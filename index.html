<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìƒ‰ê¹” ë²„íŠ¼ ì•±</title>
  <style>
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      margin:0; padding:16px;
      background:#f6f7fb;
    }

    .container{
      max-width:720px;
      margin:0 auto;
      display:grid;
      gap:14px;
    }

    /* ë””ìŠ¤í”Œë ˆì´ (ìƒ‰ + ê·¸ë¦¼) */
    #display{
      height:320px;
      border-radius:18px;
      border:1px solid rgba(0,0,0,0.12);
      background:#ffffff;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      overflow:hidden;
      box-shadow: 0 14px 30px rgba(0,0,0,0.08);
    }

    /* ë””ìŠ¤í”Œë ˆì´ ì¤‘ì•™ "ê·¸ë¦¼" (ì´ëª¨ì§€) */
    #emoji{
      font-size:120px;
      filter: drop-shadow(0 10px 12px rgba(0,0,0,0.18));
      user-select:none;
    }

    /* ë””ìŠ¤í”Œë ˆì´ í•˜ë‹¨ ë¼ë²¨ */
    #label{
      position:absolute;
      left:14px;
      bottom:12px;
      padding:8px 10px;
      border-radius:12px;
      background: rgba(255,255,255,0.65);
      border: 1px solid rgba(0,0,0,0.10);
      backdrop-filter: blur(6px);
      font-weight:700;
    }

    .buttons{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:10px;
    }

    /* ì…ì²´ ë²„íŠ¼ */
    button.color-btn{
      border:none;
      border-radius:14px;
      padding:12px 10px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      color:#111;
      background: linear-gradient(#ffffff, #f0f0f0);
      box-shadow:
        0 10px 18px rgba(0,0,0,0.12),
        0 2px 0 rgba(0,0,0,0.10),
        inset 0 1px 0 rgba(255,255,255,0.85);
      transition: transform 0.06s ease, box-shadow 0.06s ease;
      user-select:none;
    }

    button.color-btn:hover{
      transform: translateY(-1px);
    }

    button.color-btn:active{
      transform: translateY(2px);
      box-shadow:
        0 6px 12px rgba(0,0,0,0.12),
        0 1px 0 rgba(0,0,0,0.10),
        inset 0 1px 0 rgba(255,255,255,0.8);
    }

    /* ë²„íŠ¼ ì™¼ìª½ì— ìƒ‰ ë¯¸ë¦¬ë³´ê¸° ì  */
    .dot{
      display:inline-block;
      width:12px; height:12px;
      border-radius:50%;
      margin-right:8px;
      vertical-align: -1px;
      border:1px solid rgba(0,0,0,0.18);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.8);
    }

    @media (max-width: 560px){
      .buttons{ grid-template-columns: repeat(2, 1fr); }
      #emoji{ font-size: 96px; }
      #display{ height: 280px; }
    }
  </style>
</head>

<body>
  <div class="container">
    <div id="display">
      <div id="emoji">ğŸ¨</div>
      <div id="label">ìƒ‰ì„ ëˆŒëŸ¬ë´</div>
    </div>

    <div class="buttons">
      <button class="color-btn" data-name="ë¹¨ê°•" data-color="#ff4d4d" data-emoji="ğŸ">
        <span class="dot" style="background:#ff4d4d"></span>ë¹¨ê°•
      </button>

      <button class="color-btn" data-name="ì£¼í™©" data-color="#ff8a3d" data-emoji="ğŸŠ">
        <span class="dot" style="background:#ff8a3d"></span>ì£¼í™©
      </button>

      <button class="color-btn" data-name="ë…¸ë‘" data-color="#ffd93d" data-emoji="ğŸŒ»">
        <span class="dot" style="background:#ffd93d"></span>ë…¸ë‘
      </button>

      <button class="color-btn" data-name="ì´ˆë¡" data-color="#37c871" data-emoji="ğŸŒ³">
        <span class="dot" style="background:#37c871"></span>ì´ˆë¡
      </button>

      <button class="color-btn" data-name="íŒŒë‘" data-color="#4d79ff" data-emoji="ğŸŒŠ">
        <span class="dot" style="background:#4d79ff"></span>íŒŒë‘
      </button>

      <button class="color-btn" data-name="ë‚¨ìƒ‰" data-color="#2f3fb8" data-emoji="ğŸŒŒ">
        <span class="dot" style="background:#2f3fb8"></span>ë‚¨ìƒ‰
      </button>

      <button class="color-btn" data-name="ë³´ë¼" data-color="#8a4dff" data-emoji="ğŸ‡">
        <span class="dot" style="background:#8a4dff"></span>ë³´ë¼
      </button>

      <button class="color-btn" data-name="ë¶„í™" data-color="#ff5cab" data-emoji="ğŸŒ¸">
        <span class="dot" style="background:#ff5cab"></span>ë¶„í™
      </button>

      <button class="color-btn" data-name="ê°ˆìƒ‰" data-color="#8b5a2b" data-emoji="ğŸ«">
        <span class="dot" style="background:#8b5a2b"></span>ê°ˆìƒ‰
      </button>

      <button class="color-btn" data-name="ê²€ì •" data-color="#111111" data-emoji="ğŸ–¤">
        <span class="dot" style="background:#111111"></span>ê²€ì •
      </button>
    </div>
  </div>

  <script>
    const display = document.getElementById("display");
    const emojiEl = document.getElementById("emoji");
    const labelEl = document.getElementById("label");

    function setColor(name, color, emoji){
      display.style.background = color;
      emojiEl.textContent = emoji;

      // ë°°ê²½ì´ ì–´ë‘ìš°ë©´ ë¼ë²¨ ê¸€ììƒ‰ ìë™ìœ¼ë¡œ í°ìƒ‰ ëŠë‚Œ ë‚˜ê²Œ
      const isDark = isColorDark(color);
      labelEl.textContent = name;
      labelEl.style.color = isDark ? "#ffffff" : "#111111";
      labelEl.style.background = isDark ? "rgba(0,0,0,0.35)" : "rgba(255,255,255,0.65)";
      labelEl.style.borderColor = isDark ? "rgba(255,255,255,0.18)" : "rgba(0,0,0,0.10)";
    
      // â­ ë§ˆì§€ë§‰ ìƒ‰ê¹” ê¸°ì–µí•˜ê¸°
  const state = { name, color, emoji };
  localStorage.setItem("lastColor", JSON.stringify(state));

    }

    function isColorDark(hex){
      // #RRGGBB
      const r = parseInt(hex.slice(1,3), 16);
      const g = parseInt(hex.slice(3,5), 16);
      const b = parseInt(hex.slice(5,7), 16);
      // ìƒëŒ€ íœ˜ë„(ëŒ€ì¶©)
      const luminance = (0.2126*r + 0.7152*g + 0.0722*b) / 255;
      return luminance < 0.45;
    }

    document.querySelectorAll("button.color-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        setColor(btn.dataset.name, btn.dataset.color, btn.dataset.emoji);
      });
    });

// â­ í˜ì´ì§€ ì—´ë¦´ ë•Œ ë§ˆì§€ë§‰ ìƒ‰ ë¶ˆëŸ¬ì˜¤ê¸°
const saved = localStorage.getItem("lastColor");
if (saved) {
  const { name, color, emoji } = JSON.parse(saved);
  setColor(name, color, emoji);
}

  </script>
</body>
</html>
